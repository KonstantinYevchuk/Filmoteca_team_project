{"mappings":"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","sources":["src/index.js","src/js/modal-registration.js","src/js/autorisation.js"],"sourcesContent":["createPopularMoviesMarkup();\nimport './js/firebase';\nimport './js/theme-btn';\nimport './js/loader';\nimport './js/input';\n// import './js/modal-markup';\n\nimport './js/fetch-trailer';\nimport './js/view-Trailer';\nimport './js/fetch-films';\nimport './js/pagination';\nimport './js/main-markup';\nimport { createPopularMoviesMarkup } from './js/main-markup';\n\nimport './js/modal';\n\nimport './js/modal-students';\nimport './js/modal-registration';\nimport './js/autorisation';\n","const refs = {\n  openModalBtn: document.querySelector('[data-modal-reg-open]'),\n  closeModalBtn: document.querySelector('[data-modal-reg-close]'),\n  modal: document.querySelector('[data-reg-modal]'),\n};\nrefs.openModalBtn.addEventListener('click', toggleModal);\nrefs.closeModalBtn.addEventListener('click', toggleModal);\n\n\n\nfunction toggleModal() {\n  refs.modal.classList.toggle('is-hidden');\n}\n","import { initializeApp } from 'firebase/app';\nimport { Notify } from 'notiflix';\nimport { getFirestore, setDoc, doc } from 'firebase/firestore';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signOut,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n} from 'firebase/auth';\n\n// Firebase AUTH\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDpHH4vTWioKzjyjXO2I80-uE6v02JiNMc',\n  authDomain: 'filmoteka-students-goit.firebaseapp.com',\n  projectId: 'filmoteka-students-goit',\n  storageBucket: 'filmoteka-students-goit.appspot.com',\n  messagingSenderId: '474370553773',\n  appId: '1:474370553773:web:273214bc0fea8263371324',\n  measurementId: 'G-8CJGR7QN75',\n};\n\ninitializeApp(firebaseConfig);\nconst db = getFirestore();\n\nconst auth = getAuth();\nlet name;\nlet currentUser;\n\nconst loginForm = document.querySelector('.login-form');\nconst signupForm = document.querySelector('.registration-form');\nconst logout = document.querySelector('.js-btn-exit');\n\nconst logBtnContainer = document.querySelector('.js-btn-in');\nconst exitBtnContainer = document.querySelector('.js-btn-exit');\n\nsignupForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  name = signupForm.user_name.value;\n  const email = signupForm.mail.value;\n  const password = signupForm.password.value;\n\n  const ObjectDataName = {\n    name: `${name}`,\n  };\n\n  createUserWithEmailAndPassword(auth, email, password)\n    .then(cred => {\n      // Бажано сюди впихнути НЕТЛІФАЙ\n      Notify.success(`The user: ${name} has been created`);\n      logBtnContainer.hidden = true;\n      exitBtnContainer.hidden = false;\n      signupForm.reset();\n    })\n    .catch(err => {\n      // netlify wrongs\n      Notify.failure(err.message);\n    });\n\n  // СТВОРИТИ в БД по НЕЙМ БАЗУ ДАННИх, яка буде слідкувати за списками\n  const newUserRef = doc(db, email, 'username');\n  setDoc(newUserRef, ObjectDataName, { merge: true }).catch(err =>\n    Notify.failure(err.message)\n  );\n  // addDoc(colRef, {\n  //   Or u can create Ur specific object\n  // })\n});\n\nloginForm.addEventListener('submit', e => {\n  e.preventDefault();\n  name = loginForm.login.value;\n  const email = loginForm.mail.value;\n  const password = loginForm.password.value;\n\n  signInWithEmailAndPassword(auth, email, password)\n    .then(cred => {\n      Notify.success(`user: ${name} logged in`);\n      logBtnContainer.hidden = true;\n      exitBtnContainer.hidden = false;\n    })\n    .catch(err => {\n      Notify.failure(err.message);\n    });\n});\n\nlogout.addEventListener('click', e => {\n  signOut(auth)\n    .then(() => {\n      Notify.info(`The user logged out`);\n      logBtnContainer.hidden = false;\n      exitBtnContainer.hidden = true;\n    })\n    .catch(err => {\n      Notify.failure(err.message);\n    });\n});\n\nfunction checkUserStatus() {\n  if (auth.currentUser == null) {\n    logBtnContainer.hidden = false;\n    exitBtnContainer.hidden = true;\n  }\n\n  onAuthStateChanged(auth, user => {\n    logBtnContainer.hidden = true;\n    exitBtnContainer.hidden = false;\n  })\n}\n\ncheckUserStatus();\n\n// onAuthStateChanged(auth, user => {\n//   if (!user == null) {\n//     logBtnContainer.hidden = true;\n//     exitBtnContainer.hidden = false;\n//   }\n//   logBtnContainer.hidden = false;\n//   exitBtnContainer.hidden = true;\n// });\nconsole.log(auth);\n\n\n\n// const logInBtn = document.querySelector('.login-form-btn');\n// const exitBtn = document.querySelector('.js-exit');\n\n// logInBtn.addEventListener('click', onLogInBtnClick);\n// exitBtn.addEventListener('click', onExitBtnClick);\n\n// function onLogInBtnClick() {\n//   whenUserLogged();\n// }\n// console.log(auth);\n// function whenUserLogged() {\n//     onAuthStateChanged(auth, user => {\n//       if (!auth.currentUser) {\n//         logBtnContainer.hidden = true;\n//         exitBtnContainer.hidden = false;\n//       }\n//       logBtnContainer.hidden = false;\n//       exitBtnContainer.hidden = true;\n//     })\n  \n// }\n// whenUserLogged();\n\n// function onExitBtnClick() {\n//   onAuthStateChanged(auth, user => {\n//   if (user.isAnonymous) {\n//     logBtnContainer.hidden = false;\n//     exitBtnContainer.hidden = true;\n//   }\n// })\n// }\n\nconst loginFormBtn = document.querySelector('#data-formBtn-login');\nconst regFormBtn = document.querySelector('#data-formBtn-reg');\nconst logForm = document.querySelector('#data-login-box');\nconst regForm = document.querySelector('#data-reg-box');\nloginFormBtn.addEventListener('click', e => {\n  logForm.classList.add('current');\n  regForm.classList.remove('current');\n  loginFormBtn.classList.toggle('target-btn');\n  regFormBtn.classList.toggle('target-btn');\n});\nregFormBtn.addEventListener('click', e => {\n  regForm.classList.add('current');\n  logForm.classList.remove('current');\n  loginFormBtn.classList.toggle('target-btn');\n  regFormBtn.classList.toggle('target-btn');\n});\n\n// logout.addEventListener('click', e => {\n//   signOut(auth)\n//     .then(() => {\n//       Notify.info(The user ${name} signed out);\n//     })\n//     .catch(err => {\n//       Notify.failure(err.message);\n//     });\n// });\n\n\n// function onFormToggle(add, rev) {\n//   console.log('HELLOO');\n//   add.classList.add('current');\n//   rev.classList.remove('current');\n//   loginFormBtn.classList.toggle('target-btn');\n//   regFormBtn.classList.toggle('target-btn');\n// }"],"names":["parcelRequire","$f4f156565a4dcfb9$var$refs","openModalBtn","document","querySelector","closeModalBtn","modal","$f4f156565a4dcfb9$var$toggleModal","classList","toggle","addEventListener","$fkNhc","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","$4127b638907e360b$var$name","$4127b638907e360b$var$db","$6m2hf","getFirestore","$4127b638907e360b$var$auth","$gQOBw","getAuth","$4127b638907e360b$var$loginForm","$4127b638907e360b$var$signupForm","$4127b638907e360b$var$logout","$4127b638907e360b$var$logBtnContainer","$4127b638907e360b$var$exitBtnContainer","e","preventDefault","user_name","value","email","mail","password","ObjectDataName","name","concat","createUserWithEmailAndPassword","then","cred","$6JpON","Notify","success","hidden","reset","catch","err","failure","message","newUserRef","doc","setDoc","merge","login","signInWithEmailAndPassword","signOut","info","currentUser","onAuthStateChanged","user","console","log","$4127b638907e360b$var$loginFormBtn","$4127b638907e360b$var$regFormBtn","$4127b638907e360b$var$logForm","$4127b638907e360b$var$regForm","add","remove","$6Zzi9","createPopularMoviesMarkup"],"version":3,"file":"index.18b2be4b.js.map"}