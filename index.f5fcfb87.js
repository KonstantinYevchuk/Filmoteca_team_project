var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n),n("2ix2C"),n("lY1JX"),n("gjiCh"),n("5MxpA"),n("9448T"),n("3INcY"),n("fvCRb"),n("2nhTy");var r=n("bmZal");r=n("bmZal");n("bTcpz"),n("cddKH");const s={openModalBtn:document.querySelector("[data-modal-reg-open]"),closeModalBtn:document.querySelector("[data-modal-reg-close]"),modal:document.querySelector("[data-reg-modal]")};function a(){s.modal.classList.toggle("is-hidden")}s.openModalBtn.addEventListener("click",a),s.closeModalBtn.addEventListener("click",a);var i=n("krGWQ"),d=n("gKkQl"),l=n("7Y9D8"),c=n("ftYLF"),u=n("eyjy7");(0,d.initializeApp)({apiKey:"AIzaSyDpHH4vTWioKzjyjXO2I80-uE6v02JiNMc",authDomain:"filmoteka-students-goit.firebaseapp.com",projectId:"filmoteka-students-goit",storageBucket:"filmoteka-students-goit.appspot.com",messagingSenderId:"474370553773",appId:"1:474370553773:web:273214bc0fea8263371324",measurementId:"G-8CJGR7QN75"});const g=(0,c.getFirestore)(),m=(0,u.getAuth)();let f;const p=document.querySelector(".login-form"),h=document.querySelector(".registration-form"),v=document.querySelector(".js-btn-exit"),y=document.querySelector(".js-btn-in"),b=document.querySelector(".js-btn-exit");h.addEventListener("submit",(e=>{e.preventDefault(),f=h.user_name.value;const t=h.mail.value,o=h.password.value,n={name:`${f}`};(0,u.createUserWithEmailAndPassword)(m,t,o).then((e=>{l.Notify.success(`The user: ${f} has been created`),y.hidden=!0,b.hidden=!1,h.reset()})).catch((e=>{l.Notify.failure(e.message)}));const r=(0,c.doc)(g,t,"username");(0,c.setDoc)(r,n,{merge:!0}).catch((e=>l.Notify.failure(e.message)))})),p.addEventListener("submit",(e=>{e.preventDefault(),f=p.login.value;const t=p.mail.value,o=p.password.value;(0,u.signInWithEmailAndPassword)(m,t,o).then((e=>{l.Notify.success(`user: ${f} logged in`),y.hidden=!0,b.hidden=!1})).catch((e=>{l.Notify.failure(e.message)}))})),v.addEventListener("click",(e=>{(0,u.signOut)(m).then((()=>{l.Notify.info("The user logged out"),y.hidden=!1,b.hidden=!0})).catch((e=>{l.Notify.failure(e.message)}))})),async function(){await(0,u.onAuthStateChanged)(m,(e=>{console.log(e),e?(y.hidden=!0,b.hidden=!1):(y.hidden=!1,b.hidden=!0)}))}(),console.log(m),i.refs.loginFormBtn.addEventListener("click",(e=>{i.refs.logForm.classList.add("current"),i.refs.regForm.classList.remove("current"),i.refs.loginFormBtn.classList.toggle("target-btn"),i.refs.regFormBtn.classList.toggle("target-btn")})),i.refs.regFormBtn.addEventListener("click",(e=>{i.refs.regForm.classList.add("current"),i.refs.logForm.classList.remove("current"),i.refs.loginFormBtn.classList.toggle("target-btn"),i.refs.regFormBtn.classList.toggle("target-btn")})),(0,r.createPopularMoviesMarkup)();
//# sourceMappingURL=index.f5fcfb87.js.map
